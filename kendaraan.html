<!DOCTYPE html>
<html lang="id">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kelola Kendaraan - Konsumsi BBM</title>

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />

    <!-- Bootstrap Icons -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
    />

    <!-- Custom CSS -->
    <link rel="stylesheet" href="/src/styles/main.css" />
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar">
      <div class="navbar-content">
        <a
          href="/index.html"
          class="navbar-back"
          aria-label="Kembali ke Dashboard"
        >
          <i class="bi bi-arrow-left"></i>
        </a>
        <h2 class="navbar-title">Kelola Kendaraan</h2>
      </div>
    </nav>

    <!-- Page Container -->
    <div class="page-container">
      <!-- Page Header -->
      <header class="page-header">
        <div class="page-header-row">
          <div class="page-header-info">
            <h1>Kendaraan Saya</h1>
            <p class="page-header-count" id="vehicleCount">0 kendaraan</p>
          </div>
          <button class="btn btn-primary" id="addVehicleBtn" type="button">
            <i class="bi bi-plus-lg"></i>
            <span>Tambah Kendaraan</span>
          </button>
        </div>
      </header>

      <!-- Vehicle List -->
      <div id="vehicleList" class="vehicle-list">
        <!-- Vehicle cards will be rendered here by JavaScript -->
      </div>

      <!-- Empty State -->
      <div id="emptyState" class="empty-state hidden">
        <div class="empty-state__icon">
          <i class="bi bi-car-front"></i>
        </div>
        <h2 class="empty-state__title">Belum Ada Kendaraan Terdaftar</h2>
        <p class="empty-state__description">
          Tambahkan kendaraan pertama Anda untuk mulai mencatat konsumsi BBM.
        </p>
        <button class="btn btn-primary" id="addFirstVehicleBtn" type="button">
          <i class="bi bi-plus-lg"></i>
          <span>Tambah Kendaraan Pertama</span>
        </button>
      </div>
    </div>

    <!-- Vehicle Modal (TASK-008) -->
    <div id="vehicleModal" class="modal hidden">
      <div class="modal-backdrop"></div>
      <div class="modal-dialog">
        <div class="modal-content">
          <!-- Modal Header -->
          <div class="modal-header">
            <h3 id="modalTitle" class="modal-title">Tambah Kendaraan</h3>
            <button
              type="button"
              id="closeModalBtn"
              class="modal-close"
              aria-label="Tutup"
            >
              <i class="bi bi-x-lg"></i>
            </button>
          </div>

          <!-- Modal Body -->
          <div class="modal-body">
            <form id="vehicleForm" novalidate>
              <!-- Error Container -->
              <div id="formErrors" class="form-errors hidden"></div>

              <!-- Name Input (TASK-009) -->
              <div class="form-group">
                <label for="vehicleName" class="form-label">
                  Nama Kendaraan <span class="text-danger">*</span>
                </label>
                <input
                  type="text"
                  id="vehicleName"
                  class="form-control"
                  placeholder="Contoh: Honda Beat"
                  maxlength="50"
                  required
                />
              </div>

              <!-- Type Toggle (TASK-010) -->
              <div class="form-group">
                <label class="form-label">
                  Jenis Kendaraan <span class="text-danger">*</span>
                </label>
                <div class="type-toggle-group">
                  <button
                    type="button"
                    id="typeMotor"
                    class="type-toggle type-toggle--selected"
                  >
                    <i class="bi bi-scooter"></i>
                    <span>Motor</span>
                  </button>
                  <button type="button" id="typeMobil" class="type-toggle">
                    <i class="bi bi-car-front"></i>
                    <span>Mobil</span>
                  </button>
                </div>
              </div>

              <!-- Year and Plate Row (TASK-011, TASK-012) -->
              <div class="form-row">
                <div class="form-group form-group--half">
                  <label for="vehicleYear" class="form-label"
                    >Tahun (Opsional)</label
                  >
                  <input
                    type="number"
                    id="vehicleYear"
                    class="form-control"
                    placeholder="2020"
                    min="1900"
                    max="2030"
                  />
                </div>
                <div class="form-group form-group--half">
                  <label for="vehiclePlate" class="form-label"
                    >Plat Nomor (Opsional)</label
                  >
                  <input
                    type="text"
                    id="vehiclePlate"
                    class="form-control"
                    placeholder="B 1234 ABC"
                    maxlength="15"
                  />
                </div>
              </div>

              <!-- Color Picker (TASK-013, TASK-014, TASK-015) -->
              <div class="form-group">
                <label class="form-label">Warna Kendaraan</label>
                <div id="colorPickerContainer"></div>
              </div>
            </form>
          </div>

          <!-- Modal Footer -->
          <div class="modal-footer">
            <button type="button" id="cancelBtn" class="btn btn-outline">
              Batal
            </button>
            <button
              type="submit"
              id="submitBtn"
              form="vehicleForm"
              class="btn btn-primary"
            >
              Simpan Kendaraan
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Delete Confirmation Modal (TASK-019) -->
    <div id="deleteConfirmModal" class="modal hidden">
      <div class="modal-backdrop"></div>
      <div class="modal-dialog modal-dialog--small">
        <div class="modal-content">
          <!-- Modal Header -->
          <div class="modal-header modal-header--danger">
            <h3 class="modal-title">
              <i class="bi bi-exclamation-triangle-fill"></i>
              Konfirmasi Hapus
            </h3>
            <button
              type="button"
              id="closeDeleteModalBtn"
              class="modal-close"
              aria-label="Tutup"
            >
              <i class="bi bi-x-lg"></i>
            </button>
          </div>

          <!-- Modal Body -->
          <div class="modal-body">
            <p class="delete-confirm__question">
              Hapus kendaraan <strong id="deleteVehicleName"></strong>?
            </p>

            <div id="deleteWarningMessage">
              <!-- Warning message will be injected here by JS -->
            </div>
          </div>

          <!-- Modal Footer -->
          <div class="modal-footer">
            <button type="button" id="cancelDeleteBtn" class="btn btn-outline">
              Batal
            </button>
            <button type="button" id="confirmDeleteBtn" class="btn btn-danger">
              <i class="bi bi-trash"></i>
              Hapus
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Toast Container (TASK-024) -->
    <div id="toastContainer" class="toast-container"></div>

    <!-- Page Script -->
    <script type="module" src="/src/pages/kendaraan.js"></script>
  </body>
</html>
